THIS FILE STATES DESIGN DECISIONS THAT WERE MADE


General:
- The basic idea is to design an X-Com inspired game, but in a fantasy setting. Instead of different kind of weapons, that must be researched, Spell of Mastery has different kind of researcheable creatures, serving different roles: melee, bomb throwing, artillery and snipers. The enchantment spells play the role of equipment, say instead of physical armor item, there are magic shield enchantment, and instead of medkits some creatures specialize in healing. Further plans would be rethinking X-Com's geoscape for fantasy setting, i.e. kingdom view, where monsters are invading, and instead of base, player has ivory tower for wizard and cities he must protect. Instead of alien encounters or alien bases, there would be dungeons and ruins to explore. Additionally zeppelins, flying ships, flying islands/castles could be introduced for transporting squad on kingdom view. Instead of corporations there are different competing wizard orders and castles with lords/kings.
- Other sources of inspiration are Spellcraft: Aspects of Valor, Lords of Chaos, and Magic & Mayhem.
- Completely determenistic game mechanics (i.e. game design doesn't use random dice rolls). Random rolls are allowed only for world and site generation, and for AI players decision making.


Background Story:
The Great King [KingName] the [First, Second, Third] of [Dynasty Name] has hired your wizard guild to protect his kingdom from increasing monster attacks and investigate their cause. The King has promised to pay hefty amount of money for each attack on his cities you help preventing and even more money have you succeed putting an end to these attacks. The king also allows you to establish a few bases of operation. Good luck on your quest!

Kingdom View:
- The player is in charge of wizard guild, which is hired by king to protect the kingdom from ongoing invasion.
- Wizard guild can have several bases (wizard towers). Player starts with a single base, location for which he/she picks at the start of the game. After that additional bases can be build by spending money.
- Bases have detection facilities, such as scrying devices, exposing roaming monster squads near them. If such squad gets detected, player has choice to intercept it or let it roam further, in that case such squad can attack a city, build a lair or wander away.
- To intercept roaming monster squads and investigate map sites, player uses airship. Each such flying vessel is commanded by a single mage, and can carry a limited number of creatures and spells into battle. Each turn there is a random selection of creatures that can be summoned for the next mission. Player can hire from this pool of creatures. The summoning pool is randomized each world turn. Such system is simple enough, would favour using less creatures and cheaper ones, make game experience sufficiently random, yet provide some interesting choices for the player. Similarly there is a pool of spells, available for the given turn. Each spells has number of casts based on its tier.
- At the start of the game, player picks initial spells and creatures. To uncover new creatures player must conquer monster settlements. To gain new spells player must investigate dungeons, holding secret knowledge.
- Player may strategically skip a turn in hope of getting a better selection. Each creature and spell has  a chance of appearance for a given turn for a given base, and the maximum number of such creatures that can appear if at all. Low tier spells are more reliable.
- Player gains money from successfully intercepting monster attacks, and defending cities. If all cities get captured, player loses the game. There is also a chance the monsters could go directly for one of player's bases. The more successful the player in using said base to intercept attacks the higher are the chances of retaliation. The percentage of total reward gold gained is based on the percent of cities alive. Ruins are restored back to a living city after some time.
- If monsters capture a city or player's base, they plunder it, turning it into special ruins lair. Which could be liberated given sufficient efforts.
- Each monster lair has a chance to generate a monster squad, based on its age. Such monster squad also has a difficulty level, so player could anticipate what he will have to deal with and how many creautes and spells he should bring in.
- The goal of the game is to defeat several enemy wizards, who are behind the monster invasion, by assaulting their sites of living(which should be uncovered first). Player could also attempt to capture king's castle, which will give him income each turn from the cities not turned into ruins.
- Base can only access location immediately in its vicinity. Transfering resouces between bases takes 1 turn.
- Airship has type, which determines the number of monsters and spells player can carry into battle. The number of creatures is limited by ships size, while the number of spells is determined the size of mana crystal installed on ship. Also, a storage for reagents is also possible.
- Reagents, which serve the role of ammuntion. Following reagents are available:
  - Blood (red): required by most summoning spells
  - Herb (green): benefical and nature enchancments
  - Fungus (blue): poison and other harmful spells
  - Sulfur (yellow): required for fire spells and goblin's bombs
  - Mercury (black): 
- Research: at the start of the game and with each turn player gains a number of lore points, which he then spends to research spells and units. Researching new units requires first capturing their souls. Converting gold to research should be possile too, by paying for guest schoolar's R&D. To research a spell, player picks his base, then clicks reasearch button.

Battle View:
- Each creature major stats: Moves, Health, Attack, Defense, Fatigue, View, Range, and Will. Some magical artifacts and structures can affect these numbers.
- Moves determines how many movement point or steps this unit gains per turn. One move allows moving one map square. The more complex is the action the more moves it will require per turn.
- Health determines how much damage that unit could take, before perishing.
- Attack determines how many health points that creature's attack removes from victim on its usual attack.
- Defense determines how many moves it would cost for other creature to attack this one. While it doesn't take much strength to kill a rat, yet rat is a very agile creature, so it takes a lot of speed to hit it and really slow moving creature wont be able to catch a rat at all. At the same time, bat being fast, may bite some unarmored creature and run away. Player may pick against which attacker his creature should concentrate its defense for the next turn, ignoring attacks from other ones. Lost defense points are regenerated at the end of a turn, if creature is not engaged, based on remaining movement points. A creature that successfuly defended can counter-attack, if it has some movement points. Creatures defending against attacks coming from below get defence bonus (upto +2), while attacks from above decrease defence. Creature's facing direction also affects its defence: creature hit from side gets -1 penalty to defence, creature hit from back gets -3 penalty to defence.
- Fatigue decreases movement points and grows exponentially from performing actions. Each turn fatigue is decreased by creature's stamina.
- Sight determines how far this unit sees.
- Range determines how far this creature can attack with its normal attack. Not that for artillery units range is usually longer than their sight.
- Will stat determines how many will points that creature gains per turn and total will point limit. Will also determines the cost of casting harmful enchantment on that unit. If unit is harmed, it loses all it accumulated will points, that is here to simulate concentration. In some respects will points are similar to mana points in stereotypic RPGs.
- Typial humanoid creature has 6 moves per turn. Bat's speed is 14 cells/turn;. Leader moves at speed of 5, preventing leader to be able to run away from most creatures. Casting spell or attacking requires 4 moves. Haste gives +4 moves, allowing most units to attack twice.
- Tier 1 creature costs 5 mana, while ultimate creature, dragon, costs 20.
- Fall damage equals to FallHeight*3-2
- To win in the battle view phase, player must ether kill all enemy units or cast "Spell of Mastery" at each of the site's power nodes, which will purge all creatures in the area. 

Spells:
- Knowledge (neutral): converts mana into lore.
- Dispel (neutral): removes all the following enchantments:
    shell, bless, fear, invisibility, flight, haste.
  This spell can be resisted, in that case it removes only the resistance enchantment. 
- Telekinesis (neutral): grabs key, treasure, uncovers fog of war, gains control over rescueable creature, visits quest places, hurls rocks, pushes creature, or operates an object from a distance. Can't be used at chests.
- Heal (law): target regains 9 health, and gets cured from poison and fear.
- Lightning (chaos): target loses 9 health. Target must be outdoor.
- Haste (law): target gains 2 additional movement points.
- Fear (chaos): target loses ability to act for the next three turns.
- Shell (law): target gains immunity to the next physical attack.
- Resist (chaos): target gains immunity to the next magical attack.
- Bless (law): makes target deal additional damage to cursed units.
- Curse (chaos): makes target resistant to non-magical weapon, but vulnerable to blessed units.
- Invisibility (law): target becomes invisible. Doing any action beside movement would cancel invisibility.
- Firestorm (chaos): sets ground on fire, damaging creatures inside it. Fire expands for several turn.
- Flight (law): target gains ability to fly.
- Detonate (chaos): controlled creature explodes, dealing damage to all neighbors, equivalent to creature's health.
- Subvert (law): gain control over the target creature by spending mana equivalent to creature's willpower.
- Armageddon (chaos): all units sustain 5 points of damage.
- The Spell of Mastery (neutral): banishes all enemy wizards and creatures from this site. Requires to be cast at each of the site's power nodes.


Summonable Creatures:
Oculus: flyer, scout, clears invisibility from enemy units in sight.
Blob: slow, when in full health, can divide into two blobs of half the health.
Imp: digs terrain, builds bridges, plants trees, places traps, constructs doors and supernatural doors (that only enchanted creatures can attack).
Ratman: becomes invisible, allowing him to move past enemies and steal treasures, or surprise attack.
Goblin: throws bombs, which damage whole area.
Elf: shooter.
Dwarf: has defend ability, which reduces all incoming damage to 1
Orc: has enough health to withstand a single lightning bolt.
Spider: poisons; can set web trap, climber, entering which enemy creature loses all movement points and gets paralyzed for the next turn.
Lizard: fast, steed, immune to magic, climber. Good for stalking wizards, who can't harm it.
Skeleton: cursed.
Paladin: has blessed attack, that harms cursed units; immune to subversion.
Wraith: cursed, incorporeal, sees through walls, flyer, becomes invisible.
Ifrit: flyer, fire shield damages attackers, throws fireballs, useful to counter undeads.
Griffin: flyer, steed, counter attacks on melee attack.
Minotaur: has stun-attack ability, disabling enemy for a single turn.
Devil: teleports to a seen cell, kills in a single blow any creature (even dragon), that has killed another. If target haven't killed anyone deals damage equivalent to cumulative damage target has ever deed.
Vampire: cursed, shooter, turns into bat, heals on attack. Creatures it kills raise from dead as undeads, with little health.
Observer: slow flyer magic attack, draws pentagrams, cast spells (slow, fireball, teleport). Its attack strength is equal to its enemy.
Cyclops: heavy hitter
Hydra: moves over water, attacks in all four directions, regenerates 1 hp per turn.
Golem: slow, stoneskin (any incoming non-magic damage is halved).
Gargoyle: flyer, ignores armor.
Dragon: flyer, can induce fear into nearby creature, harms cursed units, can send nearby units flying into respective directions, explodes on death (damaging all nearby creatures).

Types of Creature Movement:
- Walker
- Flyer
- Swimmer: can traverse over water
- Climber: can scale walls (less than 4 height)

Leader Abilities:
- Pentagram (neutral): creates a portal, to which any controlled creature can be summoned. Enemy units remove it on entering.
- Fireball (chaos): throws a cheap fireball.
- Guardian (law): summons a turret, that can attack nearby enemies.

Creature Abilities:
- Look at: changes creature's facing direction.
- Invisibility: becomes invisible until the next non-movement action.
- Phase Shift: phases through 1-tile walls.

Creature Properties:
- Leader: this creature is a leader. If it dies and its owner has no other leaders, then its owner loses.
- Engaged: this creature is engaged into a fight with enemy, and cannot move further or retreat this turn. Creature gets this status by doing any action near an non-afraid enemy, like moving into adjanced cell, or ending its turn in a cell near an enemy. Allied units can still swap places with engaged unit, takin its place.
- Threatened: this creature has started its turn near enemy, if at the end of its first action it remains threatened, it becomes engaged.
- Agile: creature can move near enemy, without becoming engaged. I.e. such creature can hit and run.
- Cursed: creature resists 50% damage from non-magical weapons and poison, but suffers 100% more damage from blessed units.
- Blessed: creature dues 100% damage to cursed units and breaks magic doors.
- Poison: creature can't regenerate and loses health with time, until health drops to 1 or heal is cast.
- Fire Aura: attacker gets damaged equivalent to their own damage, when melee attacking this creature.
- Hasted: creature gains additional 2 additional moves per turn.
- Invisible: invisible creatures cannot be seen or targeted by enemy players, and are not affected by engagement, their attacks gain +2 bouns against target's defence.
- Shell: creature is invincible to the next physical attack.
- Resisting: creature is invincible to the next harmful magical effect.
- Flying: creature can move over any terrain and gains addition sight. Flying units are unaffected by fall damage.
- Afraid: creature can't attack.
- Regen: creature restores 1 hit point at the end of its turn, if it isn't engaged and has full defense.
- Organic: non-undead and non-mechanical units can be target by attacks like life stealing.
- Supravision: obstacles don't block this creature's sight
- Darkvision: this creature doesn't suffer sight penalty at night.
- Sinner: creature has spilled blood by killing somebody. Such creatures are vulneraly to specific abilities, like devil's punish ability.
- Heavy: cannot be lifted into air by tornado, telekinesis, flight spell or dragon wings blow.

Digging Mechanics:
- only dirt is diggable.
- player can only dig tile between two other tiles, that will avoid removing support from ceiling and limits player to creating tunnels, instead of caves.
- digging height>>3 dirt wall creates height=2 tunnel, but only if that cell is near height=3 wall.
- digging height=2 wall lowers it, but only if it isn't surrounded by height=3 walls.
- floor can be digged to create height=3 mine schaft with ladder, allowing creature do descend and ascend, if enemy creature blocks path, ascending/descending would attack it.
- digged out dirt could be restored.

Liquid dynamics:
- Water emitter increasing water pressure of its tile: when pressure reaches 5 it either leaks into neiboring tiles, or into the tile above, if water reaches map edge, it goes back into emitter or falls with rain.
- Units standing in waster with height higher or equal to ther gets drowned, unless they have swimming ability.
